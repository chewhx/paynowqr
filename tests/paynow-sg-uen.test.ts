import paynowSgUen from '../src/lib/paynow-sg-uen';

describe('paynowSgUen', () => {
	it('should be defined', () => {
		expect(paynowSgUen).toBeDefined();
	});

	it('should give correct paynow qr string', async () => {
		const qr = paynowSgUen({
			uen: '201723769K',
			amount: 1.99,
			isEditable: false,
			expiry: '20221231',
			transactionReference: 'LP2-INVOICE01',
			company: 'Lyte Ventures Pte Ltd',
		});

		const dataString = qr.qrDataString();
		const imageString = qr.qrBase64Image();

		const expectedDataString =
			'00020101021226490009SG.PAYNOW010120210201723769K0301004082022123152040000530370254041.995802SG5921Lyte Ventures Pte Ltd6009Singapore62170113LP2-INVOICE01630460B8';

		const expectedImageString =
			'data:image/png;base64,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';

		expect(dataString).toBe(expectedDataString);
		expect(await imageString).toBe(expectedImageString);
	});
});
